0:
  %1 = sxth(%a)
  %2 = sxth(%b)
  %const.-32768.copy.2 = #-32768
  %const.-32768.copy.1 = ##-32768
  %3 = sub(%1, %2)
  %4 = cmp.lt(%3, %const.-32768.copy.1)
  if (%4) jump bb0
bb1:
5:
  %3.copy.3 = %3
  %const.32767.copy.2 = ##32767
  %6 = cmp.gt(%3, %const.32767.copy.2)
  if (%6) jump bb2
bb3:
.selectcont:
  %7 = PHI (%const.32767.copy.1, .selecttrue) (%3.copy.3, 5)
  %phitmp = and(%7, #-32768)
  jump 8
bb2:
.selecttrue:
  %const.32767.copy.1 = ##32767
  jump .selectcont
bb0:
8:
  %9 = PHI (%const.-32768.copy.2, 0) (%phitmp, .selectcont)
  %tmp.1 = aslh(%9)
  %tmp.2 = asr(%tmp.1)
  return %tmp.2
